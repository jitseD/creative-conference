---
import { Image } from "astro:assets";
const { speaker } = Astro.props;
const imageUrl = `${import.meta.env.STRAPI_URL}${speaker.attributes.image.url}`;
---

<style>
    .speaker {
        display: grid;
        inline-size: max-content;
        place-items: flex-end;
        gap: var(--s-3xs);
        inline-size: 100%;
    }
    .speaker__name {
        padding-block-start: var(--s-s);
        color: var(--c-blue-d);
    }
    .img__container {
        grid-row: 1;
        position: relative;
        block-size: min-content;
    }
    .speaker__img {
        inline-size: inherit;
    }
    .img__overlay {
        position: absolute;
        top: 0;
        left: 0;
        inline-size: 100%;
        block-size: 100%;
        background-color: rgba(44, 145, 199, 0);
        transition: background-color 0.3s ease;
    }
    .speaker:hover .img__overlay {
        background-color: rgba(44, 145, 199, 0.4);
    }
</style>

<li class="speaker__container" transition:name={`speaker-${speaker.id}`}>
    <a class="speaker" href={`/speakers/${speaker.slug}`}>
        <h3 class="speaker__name">
            {
                speaker.attributes.title ? (
                    <span>{speaker.attributes.title} </span>
                ) : null
            }
            {speaker.attributes.name}
        </h3>
        <p class="speaker__job">{speaker.attributes.job}</p>
        <p class="speaker__talk">
            {speaker.attributes.talk.data.attributes.title}
        </p>
        <div class="img__container">
            <!-- <p>
                {
                    `${import.meta.env.STRAPI_URL}${
                        speaker.attributes.image?.data?.attributes.url
                    }`
                }
            </p> -->
            {
                speaker.attributes.image?.data?.attributes.url && (
                    <Image
                        alt="Speaker Image"
                        src={`${import.meta.env.STRAPI_URL}${
                            speaker.attributes.image?.data?.attributes.url
                        }`}
                        width="500"
                        height="500"
                    />
                )
            }
            <div class="img__overlay"></div>
        </div>
    </a>
</li>
